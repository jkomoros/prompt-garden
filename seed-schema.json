{
	"type": "object",
	"properties": {
		"version": {
			"type": "number",
			"const": 0
		},
		"seeds": {
			"type": "object",
			"additionalProperties": {
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"pattern": "^[a-zA-Z0-9-_]*$",
								"description": "A local seed ID must just be letters, numbers, dashes, and underscores"
							},
							"description": {
								"type": "string",
								"description": "An optional description for what a seed does"
							},
							"type": {
								"type": "string",
								"const": "prompt"
							},
							"prompt": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"type": "object",
										"properties": {
											"packet": {
												"anyOf": [
													{
														"anyOf": [
															{
																"type": "string",
																"pattern": "^[\\w./-]+$",
																"description": "A seed packet absolute location is a local path"
															},
															{
																"type": "string",
																"format": "uri",
																"description": "A https:// or http:// absolute location"
															}
														]
													},
													{
														"type": "string",
														"pattern": "^[.]{1,2}\\/[\\w./-]+$",
														"description": "A seed packet location must be a relative path, starting with . or .."
													}
												]
											},
											"id": {
												"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
											}
										},
										"required": [
											"id"
										],
										"additionalProperties": false
									},
									{
										"type": "string",
										"description": "The full prompt to be passed to the configured commpletion_model"
									}
								]
							}
						},
						"required": [
							"type",
							"prompt"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "embed"
							},
							"text": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "string",
										"description": "The full text to be embedded"
									}
								]
							}
						},
						"required": [
							"type",
							"text"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "log"
							},
							"value": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"anyOf": [
													{
														"type": "number"
													},
													{
														"type": "string"
													},
													{
														"type": "boolean"
													},
													{}
												]
											},
											{
												"type": "object",
												"additionalProperties": {
													"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
												}
											}
										],
										"description": "The message to echo back"
									}
								]
							}
						},
						"required": [
							"type",
							"value"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "if"
							},
							"test": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The value to examine"
									}
								]
							},
							"then": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The value to return if the value of test is truthy"
									}
								]
							},
							"else": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The value to return if the value of test is falsy"
									}
								]
							}
						},
						"required": [
							"type",
							"test",
							"then",
							"else"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "=="
							},
							"a": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The left hand side to compare"
									}
								]
							},
							"b": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The right hand side to compare"
									}
								]
							}
						},
						"required": [
							"type",
							"a",
							"b"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "!="
							},
							"a": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The left hand side to compare"
									}
								]
							},
							"b": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The right hand side to compare"
									}
								]
							}
						},
						"required": [
							"type",
							"a",
							"b"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "<"
							},
							"a": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The left hand side to compare"
									}
								]
							},
							"b": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The right hand side to compare"
									}
								]
							}
						},
						"required": [
							"type",
							"a",
							"b"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": ">"
							},
							"a": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The left hand side to compare"
									}
								]
							},
							"b": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The right hand side to compare"
									}
								]
							}
						},
						"required": [
							"type",
							"a",
							"b"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "<="
							},
							"a": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The left hand side to compare"
									}
								]
							},
							"b": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The right hand side to compare"
									}
								]
							}
						},
						"required": [
							"type",
							"a",
							"b"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": ">="
							},
							"a": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The left hand side to compare"
									}
								]
							},
							"b": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The right hand side to compare"
									}
								]
							}
						},
						"required": [
							"type",
							"a",
							"b"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "!"
							},
							"a": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
											},
											{
												"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
											}
										],
										"description": "The left hand side to negate"
									}
								]
							}
						},
						"required": [
							"type",
							"a"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "render"
							},
							"template": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "string",
										"description": "The template string to replace {{ vars }} in "
									}
								]
							},
							"vars": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
									}
								]
							}
						},
						"required": [
							"type",
							"template",
							"vars"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "extract"
							},
							"template": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "string",
										"description": "The template string to extract {{ vars }} from"
									}
								]
							},
							"input": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "string",
										"description": "The string to match against the template"
									}
								]
							}
						},
						"required": [
							"type",
							"template",
							"input"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "input"
							},
							"question": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "string",
										"description": "The question to ask the user"
									}
								]
							},
							"default": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"anyOf": [
											{
												"not": {}
											},
											{
												"anyOf": [
													{
														"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
													},
													{
														"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/1"
													}
												]
											}
										],
										"description": "The value to use as default if the user doesn't provide anything else"
									}
								]
							}
						},
						"required": [
							"type",
							"question"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "property"
							},
							"object": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "object",
										"additionalProperties": {
											"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
										},
										"description": "The object to select a property from"
									}
								]
							},
							"property": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "string",
										"description": "The property to extract"
									}
								]
							}
						},
						"required": [
							"type",
							"object",
							"property"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "object"
							},
							"properties": {
								"type": "object",
								"additionalProperties": {
									"anyOf": [
										{
											"$ref": "#/properties/seeds/additionalProperties"
										},
										{
											"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
										},
										{
											"$ref": "#/properties/seeds/additionalProperties/anyOf/13/properties/default/anyOf/2/anyOf/1"
										}
									]
								}
							}
						},
						"required": [
							"type",
							"properties"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "var"
							},
							"name": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "string",
										"description": "The name of the variable in environment to fetch"
									}
								]
							}
						},
						"required": [
							"type",
							"name"
						],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"id": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/id"
							},
							"description": {
								"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/description"
							},
							"type": {
								"type": "string",
								"const": "let"
							},
							"name": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "string",
										"description": "The name of the variable in environment to set"
									}
								]
							},
							"value": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "object",
										"additionalProperties": {
											"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
										},
										"description": "The value to set the named variable to"
									}
								]
							},
							"block": {
								"anyOf": [
									{
										"$ref": "#/properties/seeds/additionalProperties"
									},
									{
										"$ref": "#/properties/seeds/additionalProperties/anyOf/0/properties/prompt/anyOf/1"
									},
									{
										"type": "object",
										"additionalProperties": {
											"$ref": "#/properties/seeds/additionalProperties/anyOf/2/properties/value/anyOf/2/anyOf/0"
										},
										"description": "The sub-expression where name=value will be set in environment"
									}
								]
							}
						},
						"required": [
							"type",
							"name",
							"value",
							"block"
						],
						"additionalProperties": false
					}
				]
			},
			"propertyNames": {
				"pattern": "^[a-zA-Z0-9-_]*$"
			}
		}
	},
	"required": [
		"version",
		"seeds"
	],
	"additionalProperties": false,
	"$schema": "http://json-schema.org/draft-07/schema#"
}